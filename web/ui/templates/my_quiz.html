<!-- roomDetails = append(roomDetails, &model.Room{
			ID:         room.ID.Bytes,
			RoomName:   room.RoomName.String,
			UserMeta:   string(room.RoomMeta),
			GameType:   model.GT(room.GameType),
			IsActive:   room.IsActive,
			IsDeleted:  room.IsDeleted,
			CreatedOn:  room.CreatedOn.Time,
			UpdatedOn:  room.UpdatedOn.Time,
			RoomCode:   room.RoomCode,
			RoomMeta:   string(room.RoomMeta),
			RoomChat:   string(room.RoomChat),
			Roomstatus: model.RoomStatus(room.RoomStatus),
			CreatedBy:  room.CreatedBy,
			UpdatedBy:  room.UpdatedBy,
            QuestionTopic string // for listing
	TimeLimit     int    // for listing
		}) -->

        {{ define "content" }}
<div class="navbar" data-hx-get="/bw/navbar" hx-trigger="load" hx-swap="innerHTML"></div>

<div class="max-w-4xl mx-auto mt-6 space-y-6">
  {{range .roomDetails}}
    <div class="border rounded-lg p-5 shadow-md bg-white">
      <div class="flex justify-between items-center mb-2">
        <h2 class="text-2xl font-semibold">{{.RoomName}}</h2>
        <span class="text-sm text-gray-500">Created on: {{.CreatedOn.Format "Jan 02, 2006 15:04"}}</span>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm text-gray-700 mb-3">
        <div>
          <span class="font-semibold">Status:</span>
          {{if eq .Roomstatus "ENDED"}}
            <span class="text-green-600 font-medium">Completed</span>
          {{else if and (eq .GameType "SINGLE_PLAYER") (ne .Roomstatus "ENDED")}}
            <span class="text-red-600 font-medium">Abandoned</span>
          {{else}}
            <span class="text-yellow-600 font-medium capitalize">{{.Roomstatus}}</span>
          {{end}}
        </div>

        <div>
          <span class="font-semibold">Game Type:</span>
          <span class="capitalize">{{.GameType}}</span>
        </div>

        <div>
          <span class="font-semibold">Topic:</span>
          {{.QuestionTopic}}
        </div>

        <div>
          <span class="font-semibold">Time Limit:</span>
          {{.TimeLimit}} seconds
        </div>

        {{if and (eq .GameType "MULTI_PLAYER") (eq .Roomstatus "WAITING")}}
        <div class="col-span-2 md:col-span-1">
          <span class="font-semibold">Room Code:</span>
          <div class="flex items-center mt-1 space-x-2">
            <span class="font-mono bg-gray-100 px-2 py-1 rounded text-sm">{{.RoomCode}}</span>
            <button onclick="navigator.clipboard.writeText('{{.RoomCode}}')" class="text-blue-600 hover:underline text-sm">Copy</button>
          </div>
        </div>
        {{end}}
      </div>

      {{if eq .Roomstatus "ENDED"}}
      <div class="mt-3">
        <a href="/bw/analyze/{{.RoomCode}}" class="inline-block bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 text-sm">
          Analyze
        </a>
      </div>
      {{end}}
    </div>
  {{end}}
</div>
{{ end }}
