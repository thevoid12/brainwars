{{ define "content" }}
<div class="navbar" data-hx-get="/bw/navbar" hx-trigger="load" hx-swap="innerHTML"></div>
<div class="space-y-4">
  {{range .}}
    <div class="border rounded-lg p-4 shadow-md">
      <div class="flex justify-between items-center">
        <h2 class="text-xl font-semibold">{{.RoomName}}</h2>
        <span class="text-sm text-gray-500">Created on: {{.CreatedOn.Format "Jan 02, 2006 15:04"}}</span>
      </div>

      <p class="text-sm text-gray-600 mt-1">Status: 
        {{if eq .Roomstatus.String "ENDED"}}
          <span class="text-green-600 font-medium">Completed</span>
        {{else if eq .Roomstatus.String "WAITING"}}
          <span class="text-yellow-600 font-medium">Waiting</span>
        {{else}}
          <span class="text-blue-600 font-medium">{{.Roomstatus.String}}</span>
        {{end}}
      </p>

      {{if and (eq .GameType.String "MULTI_PLAYER") (eq .Roomstatus.String "WAITING")}}
        <div class="mt-2 flex items-center space-x-2">
          <span class="font-mono text-sm bg-gray-100 px-2 py-1 rounded">{{.RoomCode}}</span>
          <button onclick="navigator.clipboard.writeText('{{.RoomCode}}')" class="text-sm text-blue-600 hover:underline">Copy</button>
        </div>
      {{end}}

      {{if eq .Roomstatus.String "ENDED"}}
        <div class="mt-3">
          <a href="/analyze/{{.ID}}" class="inline-block bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 text-sm">Analyze</a>
        </div>
      {{end}}
    </div>
  {{end}}
</div>
{{ end }}